webpackJsonp([14],{"7FXV":function(a,t,e){"use strict";t.f=function(a){return Object(n.a)({url:"/task/",method:"get",params:a})},t.d=function(a,t){return Object(n.a)({url:"/task/"+a+"/",method:"PATCH",data:t})},t.b=function(a){return Object(n.a)({url:"/task/",method:"POST",data:a})},t.e=function(a){return Object(n.a)({url:"/adhoc_task/",method:"get",params:a})},t.c=function(a,t){return Object(n.a)({url:"/adhoc_task/"+a+"/",method:"PATCH",data:t})},t.a=function(a){return Object(n.a)({url:"/adhoc_task/",method:"POST",data:a})};var n=e("vLgD")},CyM0:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("7FXV"),o={name:"Playbook",data:function(){return{TaskData:{name:"",playbook_name:"",playbook:""}}},methods:{handleCreateTask:function(a){var t=this;console.log("addTask",this.TaskData);var e=new FormData;e.append("name",this.TaskData.name);var o=this.TaskData.playbook,s=new Blob([o]);e.append("playbook",s,this.TaskData.playbook_name),Object(n.b)(e).then(function(a){t.$message({message:"创建任务成功",type:"success"}),t.handleCancelAdd(),t.fetchData()})},handleSubmitAdd:function(a){this.handleCreateTask(a),this.$router.push("/task/task_list")}}},s={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticStyle:{"margin-top":"10px","margin-left":"10px","margin-right":"10px"}},[e("el-form",{ref:"form",attrs:{model:a.TaskData,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"任务名称"}},[e("el-input",{attrs:{placeholder:"任务名称"},model:{value:a.TaskData.name,callback:function(t){a.$set(a.TaskData,"name",t)},expression:"TaskData.name"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"yaml文件名称"}},[e("el-input",{attrs:{placeholder:"yaml文件名称"},model:{value:a.TaskData.playbook_name,callback:function(t){a.$set(a.TaskData,"playbook_name",t)},expression:"TaskData.playbook_name"}})],1),a._v(" "),e("el-form-item",{attrs:{label:"yaml文件内容"}},[e("el-input",{staticStyle:{height:"50px",width:"600px"},attrs:{placeholder:"yaml文件格式",type:"textarea",resize:"none",rows:"20"},model:{value:a.TaskData.playbook,callback:function(t){a.$set(a.TaskData,"playbook",t)},expression:"TaskData.playbook"}})],1),a._v(" "),e("el-form-item",[e("el-button",{staticClass:"buttonPosition",attrs:{type:"primary"},on:{click:a.handleSubmitAdd}},[a._v("立即创建")])],1)],1)],1)},staticRenderFns:[]};var l=e("/Xao")(o,s,!1,function(a){e("Suuy")},"data-v-6e2d1072",null);t.default=l.exports},R7wj:function(a,t,e){(a.exports=e("UTlt")(!1)).push([a.i,"\n.el-input[data-v-6e2d1072] {\n  width: 600px;\n}\n.buttonPosition[data-v-6e2d1072] {\n  margin-top: 380px;\n}\n",""])},Suuy:function(a,t,e){var n=e("R7wj");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("8bSs")("e0f7be3e",n,!0)}});